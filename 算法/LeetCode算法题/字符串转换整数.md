### é¢˜ç›®æè¿°

è¯·ä½ æ¥å®žçŽ°ä¸€ä¸ª atoi å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ã€‚

é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéžç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚

å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸Žä¹‹åŽé¢å°½å¯èƒ½å¤šçš„è¿žç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æŽ¥å°†å…¶ä¸Žä¹‹åŽè¿žç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚

è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åŽä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºŽå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚

æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéžç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚

åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å›ž 0ã€‚

è¯´æ˜Žï¼š

å‡è®¾æˆ‘ä»¬çš„çŽ¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’2^31,  2^31 âˆ’ 1]ã€‚å¦‚æžœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å›ž  INT_MAX (2^31 âˆ’ 1) æˆ– INT_MIN (âˆ’2^31) ã€‚

**ç¤ºä¾‹ä¸€ðŸŒ°**:

```javascript
è¾“å…¥: "42"
è¾“å‡º: 42
```

**ç¤ºä¾‹äºŒðŸŒ°**:

```javascript
è¾“å…¥: "   -42"
è¾“å‡º: -42
è§£é‡Š: ç¬¬ä¸€ä¸ªéžç©ºç™½å­—ç¬¦ä¸º '-', å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚
Â     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸ŽåŽé¢æ‰€æœ‰è¿žç»­å‡ºçŽ°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åŽå¾—åˆ° -42 ã€‚
```

**ç¤ºä¾‹ä¸‰ðŸŒ°**:

```javascript
è¾“å…¥: "4193 with words"
è¾“å‡º: 4193
è§£é‡Š: è½¬æ¢æˆªæ­¢äºŽæ•°å­— '3' ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚
```

**ç¤ºä¾‹å››ðŸŒ°**:

```javascript
è¾“å…¥: "words and 987"
è¾“å‡º: 0
è§£é‡Š: ç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦æ˜¯ 'w', ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚
     å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚
```

**ç¤ºä¾‹äº”ðŸŒ°**:

```javascript
è¾“å…¥: "-91283472332"
è¾“å‡º: -2147483648
è§£é‡Š: æ•°å­— "-91283472332" è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ 
Â     å› æ­¤è¿”å›ž INT_MIN (âˆ’231) ã€‚
```

### è§£é¢˜æ€è·¯

1. åˆ¤æ–­è¾“å…¥çš„å­—ç¬¦ä¸²ä¸ºç©ºçš„æˆ–è€…ä¸º`null`ç­‰ç©ºçš„æƒ…å†µ;
2. ä½¿ç”¨`.trim()`åŽ»é™¤é¦–å°¾ç©ºç™½ç¬¦;
3. åˆ¤æ–­åŽ»é™¤äº†ç©ºç™½ç¬¦åŽçš„å­—ç¬¦ä¸²æ˜¯å¦æ»¡è¶³å¼€å¤´æœ‰`+æˆ–-`å·ä¸”ä¸ºæ•°å­—çš„è¦æ±‚,ä¸æ»¡è¶³åˆ™è¿”å›ž`0`;
4. ä½¿ç”¨`match()`æ¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²,å–æ•°ç»„ä¸­çš„ç¬¬ä¸€é¡¹;
5. åˆ¤æ–­èŒƒå›´.

### coding

**è§£æ³•ä¸€**

```javascript
/**
 * @param {string} str
 * @return {number}
 */
var myAtoi = function(str) {
    if (!str) return 0;
    str = str.trim();
		var reg = new RegExp(/^[+|-]?\d+/g);
		if (!reg.test(str)) return 0;
		var n = str.match(reg)[0];
		var maxNum = Math.pow(2, 31);
		if (n > maxNum - 1) {
			return maxNum - 1;
		} else if (n < -maxNum) {
			return -maxNum;
		} else {
			return n;
		}
}
```

Â æ‰§è¡Œç”¨æ—¶**116ms**, å†…å­˜æ¶ˆè€—**35.9MB**.

**è§£æ³•äºŒ**

```javascript
/**
 * @param {string} str
 * @return {number}
 */
var myAtoi = function(str) {
    if (!str) return 0;
    var firstReg = /^([0-9])/,
        isNegative = false;
    str = str.trim(); // åŽ»é™¤é¦–å°¾ç©ºæ ¼ç¬¦
    if (str[0] === '-' || str[0] === '+') {
        isNegative = str[0] === '-';
        str = str.substr(1)
    }
    if (!firstReg.test(str)) return 0;
    const numbers = str.split(/[\D]/).filter(i => i !== "")
    if (numbers.length <= 0) return 0;
    var n = Number(numbers[0]);
    if (isNegative) n = -n;
    if (n > Math.pow(2, 31) - 1) {
        return Math.pow(2, 31) - 1;
    } else if (n < Math.pow(-2, 31)) {
        return Math.pow(-2, 31);
    } else {
        return n;
    }
};
```

æ‰§è¡Œç”¨æ—¶**92ms**, å†…å­˜æ¶ˆè€—**36MB**.