## äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—ğŸ“•

### é¢˜ç›®æè¿°

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†çš„ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚

### è§£é¢˜æ€è·¯

1. æœç´¢äºŒå‰æ ‘çš„ç‰¹ç‚¹ï¼šå·¦å­æ ‘çš„å€¼ä¸€å®šå°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘çš„å€¼ä¸€å®šå¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼›
2. ååºéå†çš„ç‰¹ç‚¹ï¼šæœ€åä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯æ ¹å…ƒç´ ï¼Œæ’åˆ—çš„é¡ºåºæ˜¯`[å·¦å­æ ‘][å³å­æ ‘][æ ¹èŠ‚ç‚¹]`ã€‚

ä¾‹å¦‚ğŸŒ°ï¼š

```javascript
[1, 5, 4, 3, 2]; // true å·¦å­æ ‘: [1],å³å­æ ‘: [5,4,3], æ ¹èŠ‚ç‚¹: 2
[1, 5, 2, 4, 3]; // false
```

### coding

**è§£æ³•ä¸€**

- ä¼ é€’è¿›æ¥æ•°ç»„çš„æœ€åä¸€é¡¹æ˜¯æ ¹èŠ‚ç‚¹ï¼ŒæŠŠå®ƒä»æ•°ç»„ä¸­`pop()`å‡ºæ¥
- ç„¶åå¯ä»¥ç”¨`findIndex()`æŸ¥æ‰¾å‡ºæ•°ç»„ä¸­å¤§äºæ ¹èŠ‚ç‚¹çš„é‚£ä¸ªä¸‹æ ‡`rightIdx`ï¼Œè¿™ä¸ªä¸‹æ ‡å°±æ˜¯å·¦å­æ ‘å’Œå³å­æ ‘çš„åˆ†å‰²ä¸‹æ ‡
- åœ¨ä¸‹æ ‡å·¦è¾¹ä¸ºå·¦å­æ ‘ï¼Œä¸‹æ ‡åŠä¸‹æ ‡å³è¾¹ä¸ºå³å­æ ‘
- åˆ©ç”¨æ•°ç»„çš„`every()`åˆ¤æ–­å·¦å­æ ‘çš„æ¯ä¸€é¡¹æ˜¯ä¸æ˜¯éƒ½å°äºæ ¹èŠ‚ç‚¹ï¼ŒåŒç†åˆ¤æ–­å³å­æ ‘çš„æ¯ä¸€é¡¹æ˜¯ä¸æ˜¯éƒ½å¤§äºæ ¹èŠ‚ç‚¹

```javascript
/*
* åˆ¤æ–­æŸä¸ªæ•°ç»„æ˜¯ä¸æ˜¯æŸæœç´¢äºŒå‰æ ‘çš„ååºéå†ç»“æœ
* param {Array} 
* return {Boolean}
*/
function isBST (postOrder) {
  let isBSTFn = function (postOrder) {
    // è‹¥é•¿åº¦ä¸º0 åˆ™ä¹Ÿåˆ¤æ–­ä¸ºtrue
    if (postOrder.length === 0) {
        return true;
    }
    let res = true;
    if (postOrder) {
      let root = postOrder.pop(); // æ ¹èŠ‚ç‚¹
      let rightIdx = postOrder.findIndex(item => item > root);
      let left = postOrder.splice(0, rightIdx);
      let right = postOrder;
      if (left) {
        res = left.every(item => item < root);
      }
      if (right) {
        res = right.every(item => item > root);
      }
    }
    return res;
  }
  return isBSTFn(postOrder)
}
console.log(isBST([5, 4, 3, 2, 1])); // true å·¦å­æ ‘: [], å³å­æ ‘: [5,4,3,2], æ ¹èŠ‚ç‚¹: 1
console.log(isBST([1, 5, 4, 3, 2])); // true å·¦å­æ ‘: [1],å³å­æ ‘: [5,4,3], æ ¹èŠ‚ç‚¹: 2
console.log(isBST([1, 5, 2, 4, 3])); // false
```

**è§£æ³•äºŒ**

```javascript
/*
* åˆ¤æ–­æŸä¸ªæ•°ç»„æ˜¯ä¸æ˜¯æŸæœç´¢äºŒå‰æ ‘çš„ååºéå†ç»“æœ
* param {Array} 
* return {Boolean}
*/
function isBST (postOrder) {
    // è‹¥é•¿åº¦ä¸º0 åˆ™ä¹Ÿåˆ¤æ–­ä¸ºtrue
    if (postOrder.length === 0) {
        return true;
    }
    const len = postOrder.length
    let root = postOrder[len - 1], // æœ€åä¸€ä½ä¸ºæ ¹èŠ‚ç‚¹çš„å€¼
    i, // å·¦å­æ ‘çš„æœ€åä¸€ä½çš„ä¸‹æ ‡
    j; // å³å­æ ‘çš„ç¬¬ä¸€ä½çš„ä¸‹æ ‡
    
    for (i = 0; i < len - 1 && postOrder[i] < root; ++i);
    for (j = i; j <len - 1 && postOrder[j] > root; ++j);

    if (j !== len - 1) { // è‹¥è¿˜æœªéå†å®Œï¼Œåˆ™è¯´æ˜ä¸æ˜¯å·¦è¾¹éƒ¨åˆ†å°ï¼Œå³è¾¹éƒ¨åˆ†å¤§ï¼Œä¸ç¬¦åˆååºéå†
        return false;
    }

    let left = isBST(postOrder.slice(0, i)); // ç»§ç»­éå†å·¦å­æ ‘
    let right = isBST(postOrder.slice(i, len - 1));

    return left && right;
}
console.log(isBST([5, 4, 3, 2, 1])); // true å·¦å­æ ‘: [], å³å­æ ‘: [5,4,3,2], æ ¹èŠ‚ç‚¹: 1
console.log(isBST([1, 5, 4, 3, 2])); // true å·¦å­æ ‘: [1],å³å­æ ‘: [5,4,3], æ ¹èŠ‚ç‚¹: 2
console.log(isBST([1, 5, 2, 4, 3])); // false
```

